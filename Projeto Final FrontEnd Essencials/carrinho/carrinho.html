<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja Virtual</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="carrinho.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Bootstrap Example</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <header class="top-border">
        <nav class="navbar">
            <img src="../assets/Serra Box.png" alt="Logo">
        
                <div><a href="../landingPage.html">Início</a></div>
                <div><a href="../sobre/sobre.html">Sobre</a></div>
                <div><a href="../contato/contato.html">Contato</a></div>
            
                <div class="search">
                    <form class="d-flex" role="search">
                      <input class="form-control me-2" type="search" id="searchInput" placeholder="Search" aria-label="Search">
                      <button class="btn btn-outline-success" type="submit">Search</button>
                      <script src="../javascript.js"></script>
                    </form>
                  </div>
        <section class="carrinho">
            <button onclick="location.href='../carrinho/carrinho.html'">
           <img src="../assets/carrinho.png" alt="carrinho">
         </button>
        </section>
            
        </nav>
    </header>

    <main>
        <div class="carrinho-header">
            <!-- Linha Primária -->
        </div>
        <div class="checkbox-header">
            <label class="stardust-checkbox">
                <input class="stardust-checkbox__input" type="checkbox" aria-checked="false" aria-disabled="false" tabindex="0" role="checkbox" aria-label="clique aqui para selecionar todos os produtos">
                <div class="stardust-checkbox__box"></div>
            </label>
            <div class="produto-header">Produtos</div>
            <div class="preco-unitario-header">Preço Unitário</div>
            <div class="quantidade-header">Quantidade</div>
            <div class="preco-total-header">Preço Total</div>
                    <!-- Botões de ação -->
                    <button>Editar</button>
                    <button>Excluir</button>
                </div>
            </div>
        </div>
        
    <div class="container">
        
        <div id="itensCarrinho">

        </div>
    </div>

    <div id="resumoCarrinho">
        <p id="valorTotal">Valor total: <span></span></p>
        <p id="quantidadeItens">Quantidade de itens: <span></span></p>
        <button id="botaoFinalizarCompra">Finalizar Compra</button>
    </div>
    
    </section>
</main>


    <footer>
        <pre>
            Todos os direitos reservados
            &copy; 2023 Serra Box
        </pre>
    </footer>
    <script src="localstorage.js"></script>
    <script src="../carrinho.js"></script> <!-- Importa o arquivo JavaScript onde as funções relacionadas ao carrinho estão definidas -->
    <script>
        window.onload = function(){
            var carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            var lista = document.getElementById('itensCarrinho');
                
            for (var i = 0; i < carrinho.length; i++) {
                var novoItem = document.createElement('div');
                novoItem.textContent = carrinho[i];
                lista.appendChild(novoItem);
            }
        }

        var carrinhoItens = [];

        function adicionarAoCarrinho(produtoId) {
            alert("Produto adicionado ao carrinho");

            console.log('adicionarAoCarrinho foi chamada com', produtoId);
            
            var carrinho = localStorage.getItem('carrinho');
            if (carrinho) {
                carrinho = JSON.parse(carrinho);
            } else {
                carrinho = [];
            }
            
            carrinho.push(produtoId);
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            
            window.location.href = '../carrinho/carrinho.html';
        }
    </script>
</body>
</html>